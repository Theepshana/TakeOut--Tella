<!DOCTYPE html>
<html>
  <head>
    <title>Rate Restaurant</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name = "viewport" content = "width = device-width, initial-scale = 1">
    <script type="text/javascript" href="../js/jquery.mobile.custom.js"></script>
    <script type="text/javascript" href="../js/jquery.mobile.custom.min.js"></script>
    <link rel="stylesheet" href="../css/jquery.mobile.custom.structure.css">
    <link rel="stylesheet" href="../css/jquery.mobile.custom.structure.min.css">
    <link rel="stylesheet" href="../css/jquery.mobile.custom.theme.css">
    <link rel="stylesheet" href="../css/jquery.mobile.custom.theme.min.css">
    <script src = "https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link rel="stylesheet" href="../css/style.css">
    <link rel = "stylesheet" href = "https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins">
    <script src="https://kit.fontawesome.com/ec5c950466.js" crossorigin="anonymous"></script>
   
    
  </head>
  <body class="bg" data-theme="b" style="background-color: #0D0D0D;" onload="start()" >
    <script>
         function one() { 
        var newRate = Number(localStorage.getItem("rate")) + 1;
        localStorage.setItem("rate", newRate)
        var newCount = Number(localStorage.getItem("count")) + 1;
        localStorage.setItem("count", newCount)

        alert("rate" + localStorage.getItem("rate"))
        alert("count" + localStorage.getItem("count"))
    }

    function second() {
        var newRate = Number(localStorage.getItem("rate")) + 2;
        localStorage.setItem("rate", newRate)
        var newCount = Number(localStorage.getItem("count")) + 1;
        localStorage.setItem("count", newCount)

        alert("rate" + localStorage.getItem("rate"))
        alert("count" + localStorage.getItem("count"))
    }

    function third() {
        var newRate = Number(localStorage.getItem("rate")) + 3;
        localStorage.setItem("rate", newRate)

        var newCount = Number(localStorage.getItem("count")) + 1;
        localStorage.setItem("count", newCount)

        alert("rate" + localStorage.getItem("rate"))
        alert("count" + localStorage.getItem("count"))
    }
    function four() {
        var newRate = Number(localStorage.getItem("rate")) + 4;
        localStorage.setItem("rate", newRate)
        var newCount = Number(localStorage.getItem("count")) + 1;
        localStorage.setItem("count", newCount)

        alert("rate" + localStorage.getItem("rate"))
        alert("count" + localStorage.getItem("count"))
    }
    function five() {
        var newRate = Number(localStorage.getItem("rate")) + 5;
        localStorage.setItem("rate", newRate)
        var newCount = Number(localStorage.getItem("count")) + 1;
        localStorage.setItem("count", newCount)

        alert("rate - " + localStorage.getItem("rate"))
        alert("count - " + localStorage.getItem("count"))
    }

    function rateCal(){
        var rate= Number(localStorage.getItem("rate"))/Number(localStorage.getItem("count"))
        alert("Rating = " +rate )
    }
     
    function start(){

        five();
        rateCal();
    }
    </script>
    <div data-role="page" class="ui-body-b" data-theme="b" style="background-color: #0D0D0D;">     
       
            <div class="ui-grid-b"  data-theme="b">
                <div class="ui-block-a"></div>
                <img style="margin-top: 15px;" class="ui-block-b cartimage-content"
                    src="../Image/mummysdelight.png" alt="food-item">
            </div>
            <div class="ui-grid-b" style="text-align: center;">
                <h2 class="oder-detail-label" style="color: #ffffff;">Thank You! <br> Enjoy Your Meal</h2>
                <h4 class="oder-detail-label" style="text-align: center;"><b>Please Rate Your Food</b></h4>
                <div>
                    <p class="stars">
                        <span>
                            <a onlick="one()" class="star-2" href="#">1</a>
                            <a onlick="second()" class="star-2" href="#">2</a>
                            <a onlick="third()" class="star-3" href="#">3</a>
                            <a onlick="four()" class="star-4" href="#">4</a>
                            <a onlick="five()" class="star-5" href="#">5</a>
                        </span>
                    </p>
                </div>
                <script>
                    $('.stars a').on('click', function () {
                        $('.stars span').addClass('active');

                        $(this).addClass('active');
                        $('.stars span').addClass('active');
                    });
                </script>
            </div>
        
            <div data-role="footer" class="ui-footer-fixed" data-theme="b" style="background-color: #0D0D0D; margin-left: 17px; margin-bottom: 20px;">
                <input style="font-size: 16px;" class="input-field" type="text" id="otherSuggestions"
                    placeholder="Leave Feedback" onchange="handleInput()">
                <div class="ui-grid-b">
                <div class="ui-block-a btn-contact-seller">
                    <!-- <a href="./rateRestaurant.html" target="_self"> -->
                        <button onclick="handleSubmit()" class="ui-btn" style="font-weight: 900;"
                            id="btnReview">
                            Submit
                        </button>
                    <!-- </a> -->
                </div>
                <div class="btn-skip ui-block-b ">
                    <a href="./home.html" target="_self" data-transition="slidedown" data-prefetch="true">
                        <p class="skip-link">Skip</p>
                    </a>
                </div>
            </div>
        </div>
    
        <script>
          var isSubmit = false;
    
          $(document).ready(function () {
            if (isSubmit !== true) {
              $("#btnReview").prop("disabled", true);
            }
          });
    
          function handleInput() {
            var feedback = $("#otherSuggestions").val();
    
            if (feedback.length > 0) {
              $("#btnReview").prop("disabled", false);
            }
          }
    
          function handleSubmit() {
            var feedback = $("#otherSuggestions").val();
            let feedBack = {
              comments: feedback,
              name: "User",
            };
    
            let obj_serialized = JSON.stringify(feedBack);
            localStorage.setItem("customerFeedback", obj_serialized);
            window.location.href = "./rateRestaurant.html";
          }
    
          function handleSkip() {
            window.location.href = "./home.html";
          }
        </script>
    
  </body>
</html> 